var gulp=require("gulp"),sass=require("gulp-sass"),browserSync=require("browser-sync"),prefix=require("gulp-autoprefixer"),plumber=require("gulp-plumber"),uglify=require("gulp-uglify"),rename=require("gulp-rename"),imagemin=require("gulp-imagemin"),pngquant=require("imagemin-pngquant"),sourcemaps=require("gulp-sourcemaps");gulp.task("sass",function(){gulp.src("sass/**/*.scss").pipe(sourcemaps.init()).pipe(sass({outputStyle:"compressed"})).pipe(prefix("last 2 versions","> 1%","ie 8","Android 2","Firefox ESR")).pipe(sourcemaps.write("./stylesheets/maps")).pipe(plumber()).pipe(gulp.dest("css"))}),gulp.task("browser-sync",function(){browserSync.init(["css/*.css","js/**/*.js","index.html"],{server:{baseDir:"./"}})}),gulp.task("scripts",function(){gulp.src("js/*.js").pipe(uglify()).pipe(rename({dirname:"min",suffix:".min"})).pipe(gulp.dest("js"))}),gulp.task("images",function(){return gulp.src("images/*").pipe(imagemin({progressive:!0,svgoPlugins:[{removeViewBox:!1}],use:[pngquant()]})).pipe(gulp.dest("images"))}),gulp.task("default",["sass","browser-sync","scripts"],function(){gulp.watch("sass/**/*.scss",["sass"]),gulp.watch("js/src/*.js",["scripts"])});